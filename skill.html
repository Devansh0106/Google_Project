<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teach A Skill | Pgoals</title>
     <link rel="stylesheet" href="skillstyle.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div id="navbar">
        <a href="index.html" id="logo"><img src="Logo/icon_title.png" style="width: 200px;"></a>
        <div id="navbar-right">
        <div>
          <a  class="active" href="index.html">Home</a>
        </div>
        <div>
          <a href="feedback.html">Feedback</a>
        </div>
        <div>
          <a href="contact.html">Contact Us</a>
        </div>
        <div id="login">
          <a href="login.html">Login</a>
        </div>
        <div id="ico">
          <a href="account.html"><i class="fa fa-user"></i><strong id="nnn"></strong></a>
        </div>
        </div>
    </div>
     <br> <br>  <br>  <br>  <br>  <br>   
    <main>
        <form action="">
            <ul class="form" style="text-align: center;">
               <li><h2>Teach A Skill</h2></li>
               <hr>
               <br>              
               <li><p>Name&emsp;&emsp;<input type="text" id="name"  name="name" placeholder="Enter your name here" ></p></li>
               <li><p>Email&emsp;&emsp;<input type="email" id="mail"  name="mail"  placeholder="Enter your email address here" ></p></li>
               <li><p>Skill&emsp;&emsp;&emsp;<input type="text" id="skill" name="skill" placeholder="Enter skill you want to teach here"></p></li>   
               <li><p>Experience<input type="text" id="exp" name="exp" placeholder="Enter your experinece here"></p></li>
               <li><p>Charges&emsp;<input type="text" id="charges" name="charges" placeholder="Enter charges per hour here"></p></li>
                     <br>
               <button onclick="Register()" id="submit" style="font-size: 26px; padding: 5px; border-radius: 10px;">Submit</button>
                             </p>
              </li>
            </ul>
        </form>
        <hr>
        
    </main>
    <footer class="footer">    
      <div class="main">
          <div class="icons">
              <a href="#"><i class="fa fa-instagram" style="font-size: 32px "></i></a>
          </div>
          <div class="icons">
              <a href="#"><i class="fa fa-facebook" style="font-size: 32px "></i></a>
          </div>
          <div class="icons">
              <a href="#"><i class="fa fa-twitter" style="font-size: 32px "></i></a>
          </div>
          <div class="icons">
              <a href="#"><i class="fa fa-github" style="font-size: 32px "></i></a>
          </div>                
  </footer>
    <script src="/__/firebase/init.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-auth.js"></script>



<script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-analytics.js"></script>
<script>
    // Your web app's Firebase configuration
  var firebaseConfig = {
  apiKey: "AIzaSyDlNjj5_o3YBR_xYRVrnV43fKO0_Cpk1yo",
  authDomain: "partnershipforgoals-1426a.firebaseapp.com",
  databaseURL: "https://partnershipforgoals-1426a-default-rtdb.firebaseio.com",
  projectId: "partnershipforgoals-1426a",
  storageBucket: "partnershipforgoals-1426a.appspot.com",
  messagingSenderId: "512104690436",
  appId: "1:512104690436:web:be4b00ae9d7ab284b21651"
};
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
  const auth = firebase.auth();
  const db = firebase.firestore();
  const name = document.getElementById('name');
  const skill = document.getElementById('skill');
  const exp = document.getElementById('exp');
  const charges = document.getElementById('charges');
  var email = localStorage.getItem("email");
  if(email==null){
    document.getElementById("ico").style.display = "none";
            }else{
            var docRef = db.collection("users").doc(email);
            docRef.get().then((doc) => {
            if (doc.exists) {
              const first = doc.get("first");
              const last = doc.get("last");
              document.getElementById("nnn").innerHTML = " " + first;
              document.getElementById("mail").value = " " + email;
              document.getElementById("name").value = " " + first + " " + last;
              document.getElementById("login").style.display = "none";
              document.getElementById("ico").style.display = "block";

            
        
            } else {
                // doc.data() will be undefined in this case
                console.log("No such document!");
                
            }
            }).catch((error) => {
                console.log("Error getting document:", error);
            });
          }
  function Register()
  {
        
    db.collection('skill').doc(mail.value).set({

      Name: name.value,
      Skill: skill.value,
      Experience: exp.value,
      Charges: charges.value,
      EmailID: mail.value,

    });
    alert("Data Submited!");
    location.replace("https://pgoals.web.app/display_skill.html");

    }
</script>
</body>
</html>